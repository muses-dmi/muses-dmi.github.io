<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>SVG Interfaces :: Muses — Digital Musical Instruments</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Overview SVG Interfaces is an on going project exploring the design and implementation of custom controller interfaces, bridging the issue of user mapping between action and sound in interactive music systems. We have developed a simple framework utilizing functional specifications for musical interfaces and their mappings. The system is based on a subset of Scalable Vector Graphics (SVG); interfaces are described using a simple Haskell based &amp;lsquo;controller DSL&amp;rsquo; or equally using a vector drawing application (i."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/svg_interfaces/overview/" />


<link rel="stylesheet" href="/assets/style.css">

  <link rel="stylesheet" href="/assets/muses.css">



<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon/muses.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="SVG Interfaces :: Muses — Digital Musical Instruments" />
<meta name="twitter:description" content="Overview SVG Interfaces is an on going project exploring the design and implementation of custom controller interfaces, bridging the issue of user mapping between action and sound in interactive music systems. We have developed a simple framework utilizing functional specifications for musical interfaces and their mappings. The system is based on a subset of Scalable Vector Graphics (SVG); interfaces are described using a simple Haskell based &amp;lsquo;controller DSL&amp;rsquo; or equally using a vector drawing application (i." />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="SVG Interfaces :: Muses — Digital Musical Instruments">
<meta property="og:description" content="Overview SVG Interfaces is an on going project exploring the design and implementation of custom controller interfaces, bridging the issue of user mapping between action and sound in interactive music systems. We have developed a simple framework utilizing functional specifications for musical interfaces and their mappings. The system is based on a subset of Scalable Vector Graphics (SVG); interfaces are described using a simple Haskell based &amp;lsquo;controller DSL&amp;rsquo; or equally using a vector drawing application (i." />
<meta property="og:url" content="/svg_interfaces/overview/" />
<meta property="og:site_name" content="SVG Interfaces" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2019-05-11 08:16:30 &#43;0100 BST" />











</head>
<body class="">


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Mus
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/contributors">contributors</a></li>
        
      
        
          <li><a href="/papers">papers</a></li>
        
      
        
          <li><a href="/projects">projects</a></li>
        
      
        
          <li><a href="https://github.com/muses-dmi">the code</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/contributors">contributors</a></li>
      
    
      
        <li><a href="/papers">papers</a></li>
      
    
      
        <li><a href="/projects">projects</a></li>
      
    
      
        <li><a href="https://github.com/muses-dmi">the code</a></li>
      
    
  </ul>
</nav>

  
</header>

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} })
</script>

  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/svg_interfaces/overview/">SVG Interfaces</a></h1>
  <div class="post-meta">
    <span class="post-date">
      2019-05-11
    </span>
    
  </div>

  

  

  <div class="post-content">
    <h1 id="overview">Overview</h1>
<p>SVG Interfaces is an on going project exploring the design and implementation of
custom controller interfaces, bridging the issue of user mapping between action
and sound in interactive music systems. We have developed a simple framework
utilizing functional specifications for musical interfaces and their mappings.
The system is based on a subset of Scalable Vector Graphics (SVG); interfaces
are described using a simple Haskell based &lsquo;controller DSL&rsquo; or equally using a
vector drawing application (i.e. Illustrator).</p>
<p>SVG Interfaces a designed as portable format for specifying control interfaces
independenlty of any particular device, however, to show their practical use we
have developed example backends for ROLI&rsquo;s
<a href="https://roli.com/products/blocks/lightpad-m">Lightpad-M</a> and Sensel&rsquo;s 
<a href="https://sensel.com/pages/the-sensel-morph">Morph</a>.</p>
<p>The details of designing a control interface and supproting tools are detailed
in the <a href="https://github.com/muses-dmi/svg-creator/blob/master/docs/interfaces.md">SVG Interface
Documentation</a>,
and additionaly below is a short introduction to SVG Interface design.</p>
<p>Interfaces can be described using the Contoller DSL, for example, a common
controller is a <strong>stop</strong> button, which emits a stop message each time it is
pressed:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">stop</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>x <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>y <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>size <span style="color:#ae81ff">3</span> 
</code></pre></div><p>Similar to SVG attributes named labels are used to pass information about
particular attributes of a controller, in this case a stop button has an x and y
postion for its top left corner and a size, which sets its width and height in
millimetres.</p>
<p>More generally, a stop button is an instance of a <strong>pad</strong> and could just as easily be
defined as such:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">pad</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>x <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>y <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>size <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>address <span style="color:#e6db74">&#34;/stop/&#34;</span> 
</code></pre></div><p>In both cases the following SVG code is produced:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;rect</span> <span style="color:#a6e22e">interface_osc_address=</span><span style="color:#e6db74">&#34;/stop/&#34;</span> 
      <span style="color:#a6e22e">width=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;3&#34;</span> 
      <span style="color:#a6e22e">interface_type=</span><span style="color:#e6db74">&#34;pad&#34;</span>  
      <span style="color:#a6e22e">interface_osc_args=</span><span style="color:#e6db74">&#34;&#34;</span> 
      <span style="color:#a6e22e">x=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">y=</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">/&gt;</span>
</code></pre></div><p>At this point we have defined only a controller, to create a valid interface, we
must wrap any controllers within an interface itself. It it most simple form
this can be found defining the function <code>interface</code>, so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">interface</span> <span style="color:#f92672">=</span> stop <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>x <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>y <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>size <span style="color:#ae81ff">3</span> 
</code></pre></div><p>defines the complete interface:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#75715e">&lt;!DOCTYPE svg PUBLIC &#34;-//W3C//DTD SVG 1.1//EN&#34;
</span><span style="color:#75715e">    &#34;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&#34;&gt;</span>
      <span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> 
        <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;15mm&#34;</span> <span style="color:#a6e22e">width=</span><span style="color:#e6db74">&#34;15mm&#34;</span>
        <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 15 15&#34;</span>  
        <span style="color:#a6e22e">xmlns:xlink=</span><span style="color:#e6db74">&#34;http://www.w3.org/1999/xlink&#34;</span> 
        <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;1.11.1&#34;</span> 
        <span style="color:#a6e22e">interface_device=</span><span style="color:#e6db74">&#34;lightpad&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;rect</span> <span style="color:#a6e22e">interface_osc_address=</span><span style="color:#e6db74">&#34;/stop/&#34;</span> 
         <span style="color:#a6e22e">width=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;3&#34;</span> 
         <span style="color:#a6e22e">interface_type=</span><span style="color:#e6db74">&#34;pad&#34;</span>  
         <span style="color:#a6e22e">interface_osc_args=</span><span style="color:#e6db74">&#34;&#34;</span> 
         <span style="color:#a6e22e">x=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">y=</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">/&gt;</span>
      <span style="color:#f92672">&lt;/svg&gt;</span>
</code></pre></div><p>which can now be rendered:</p>
<p><img class="special-img-class" style="width:25%;height:25%" src="/assets/example1.svg" /></p>
<p>Here the border just highlights the interface&rsquo;s surrounding edge and plays no
part in the final interface. For many interfaces the colour of a controller does
not play a part, hence the default black, but for some, it can be used to
control some aspect of the interface,  e.g. ROLI&rsquo;s Lightpad have RGB LEDS. For
this a standard SVG <strong>fill</strong> attribute can be added:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">stop</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>x <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>y <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>size <span style="color:#ae81ff">3</span> <span style="color:#f92672">#</span> fill <span style="color:#e6db74">&#34;rgb(217,137,188)&#34;</span>
</code></pre></div><p>and now renderers as:</p>
<p><img class="special-img-class" style="width:25%;height:25%" src="/assets/example2.svg" /></p>
<p>More complex interfaces are composed from smaller ones using the combinator &lt;&gt;, the following
implements a simple interface with stop, play, and record controls:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">stop</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>x <span style="color:#ae81ff">27</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>y <span style="color:#ae81ff">2</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>size <span style="color:#ae81ff">25</span>
<span style="color:#f92672">&lt;&gt;</span>
<span style="color:#a6e22e">play</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>v1 (<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">14</span>) <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>v2 (<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>) <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>v3 (<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">27</span>)
<span style="color:#f92672">&lt;&gt;</span>
<span style="color:#a6e22e">record</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>x <span style="color:#ae81ff">69</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>y <span style="color:#ae81ff">14</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>r <span style="color:#ae81ff">12</span>
</code></pre></div><p>And as a rendered SVG:</p>
<img class="special-img-class" style="width:40%;height:40%" src="/assets/example3.svg"/>
<h1 id="a-full-example">A Full Example</h1>
<p>A more complete example is shown in the following SVG interface code for a four
button (pad) and four slider controller interface designed for ROLI&rsquo;s
<a href="https://roli.com/products/blocks/lightpad-m">Lightpad</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">lightpad</span> <span style="color:#f92672">=</span> 
    mconcat (map p [(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">100</span>), (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">101</span>), (<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">102</span>), (<span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">103</span>)])
    <span style="color:#f92672">&lt;&gt;</span>
    mconcat (map s [(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">104</span>), (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">105</span>), (<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">106</span>), (<span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">107</span>)])
    <span style="color:#66d9ef">where</span>
      p <span style="color:#f92672">=</span> <span style="color:#a6e22e">\</span>(x, cc) <span style="color:#f92672">-&gt;</span> pad <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>x x <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>y <span style="color:#ae81ff">0</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>size <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>address <span style="color:#e6db74">&#34;/midicc&#34;</span> 
                          <span style="color:#f92672">#</span> iargs [cc] <span style="color:#f92672">#</span> fill <span style="color:#e6db74">&#34;rgb(217,137,188)&#34;</span>
      s <span style="color:#f92672">=</span> <span style="color:#a6e22e">\</span>(x, cc) <span style="color:#f92672">-&gt;</span> 
        vertSlider <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>x x <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>y <span style="color:#ae81ff">4</span>
                   <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>width <span style="color:#ae81ff">3</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>height <span style="color:#ae81ff">11</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>min <span style="color:#ae81ff">0</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>max <span style="color:#ae81ff">127</span> <span style="color:#f92672">!</span> <span style="color:#f92672">#</span>address <span style="color:#e6db74">&#34;/midicc&#34;</span> 
                   <span style="color:#f92672">#</span> fill <span style="color:#e6db74">&#34;rgb(96,95,164)&#34;</span> <span style="color:#f92672">#</span> iargs [cc]

<span style="color:#a6e22e">interface</span> <span style="color:#f92672">=</span> lightpad
</code></pre></div><p>This example demostrates the power of a programmatic approach, here combining
well known higher order functions, e.g. map, from function programming to
recursively layout the multiple pads and sliders.</p>
<p>The above SVG interface specification is complied to an SVG with the <a href="https://github.com/muses-dmi/svg-creator">SVG
Creator tool</a>. The SVG, created with
SVG Creator, is rendered as:</p>
<p><img class="special-img-class" style="width:50%;height:50%" src="/assets/lightpad.svg" /></p>
<h1 id="more-information">More Information</h1>
<p>Tool and documentation for specification of interfaces as SVGs:</p>
<ul>
<li><a href="https://github.com/muses-dmi/svg-creator">SVG Creator tool</a>.</li>
<li><a href="https://github.com/muses-dmi/svg-creator/blob/master/docs/interfaces.md">SVG Interface Documentation</a>.</li>
</ul>
<p>Tools for translating SVG Interfaces to the JSON intermidiate representation and different backends:</p>
<ul>
<li><a href="https://github.com/muses-dmi/svg_interface">SVG Interface to IR tool</a>.</li>
<li><a href="https://github.com/muses-dmi/svg-littlefoot">Interface IR to Littlefoot tool</a>.</li>
<li><a href="https://github.com/muses-dmi/sensel_osc">SVG Sensel Driver</a>.</li>
</ul>

  </div>
  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2021 <a href="https://www1.uwe.ac.uk/et/research/csrc.aspx">Physical Computing @ UWE</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
